(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[166],{30230:function(e,t,n){Promise.resolve().then(n.bind(n,27441))},27441:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var s=n(57437),r=n(85884),i=n(65984),a=n(8323),o=n(85269),c=n(2265),u=n(9399),l=n(16252),d=n(74548),h=n(75255),m=n.n(h),p=n(22566),f=n.n(p),x=n(36005);function w(){let[e,t]=(0,c.useState)(0),[n,h]=(0,c.useState)([]),[m,p]=(0,c.useState)([]),[f,w]=(0,c.useState)([]),[g,y]=(0,c.useState)([]),[v,_]=(0,c.useState)([]);return(0,c.useEffect)(()=>{(0,x.MO)().then(e=>{if(200===e.status&&e.data.Count>0){let n=[],s=[];e.data.Items.forEach(e=>{n.push(e.category.split("#")[1]),s.push(e.watch_time),(0,u.D_)()===e.category.split("#")[1]&&t(e.watch_time)}),console.log(n),console.log(s),h(n),p(s)}},u.P2),(0,x.TY)().then(e=>{if(console.log(e),200===e.status){let t=(0,u.D_)(),n=[],s={};e.data.Items.forEach(e=>{let r=(0,u.D_)(e.create_at);r in s||(s[r]=0),s[r]+=1,t===r&&n.push(e)});let r=Object.keys(s).sort((e,t)=>new Date(e).valueOf()-new Date(t).valueOf());y(r);let i=r.map(e=>s[e]);_(i),w(n.sort((e,t)=>t.create_at-e.create))}},u.P2)},[]),(0,s.jsxs)(r.Z,{container:!0,spacing:2,padding:"12px",className:"flex items-center",sx:{width:"100%"},children:[(0,s.jsx)(r.Z,{xs:3,children:(0,s.jsx)(i.Z,{variant:"outlined",className:"flex items-center justify-around",sx:{height:"200px"},children:(0,s.jsxs)(a.Z,{children:[(0,s.jsx)(o.Z,{sx:{mb:"10px"},variant:"h6",component:"div",children:"Activity Time Today"}),(0,s.jsxs)(o.Z,{component:"p",color:"primary",variant:"h5",children:[d.duration({seconds:e}).asMinutes().toFixed(0),"\xa0 minutes"]})]})})}),(0,s.jsx)(r.Z,{xs:9,id:"sex",children:(0,s.jsx)(l.w,{xAxis:[{data:n.map(e=>new Date(e)),scaleType:"time",valueFormatter:e=>e.toLocaleDateString(),tickMinStep:864e5}],yAxis:[{id:"watch_time",scaleType:"linear"}],series:[{yAxisKey:"watch_time",data:m.map(e=>(console.log(Number(d.duration({seconds:e}).asMinutes().toFixed(2))),Number(d.duration({seconds:e}).asMinutes().toFixed(2)))),valueFormatter:e=>"".concat(e," minutes"),label:"Daily Active Time",color:"rgb(89, 161, 79)"}],height:300})}),(0,s.jsx)(r.Z,{xs:3,children:(0,s.jsx)(i.Z,{variant:"outlined",className:"flex items-center justify-around",sx:{height:"200px"},children:(0,s.jsxs)(a.Z,{children:[(0,s.jsx)(o.Z,{sx:{mb:"10px"},variant:"h6",component:"div",children:"New Words Today"}),(0,s.jsx)(o.Z,{component:"p",variant:"h5",color:"primary",children:f.length})]})})}),(0,s.jsx)(r.Z,{xs:9,children:(0,s.jsx)(l.w,{xAxis:[{data:g.map(e=>new Date(e)),scaleType:"time",valueFormatter:e=>e.toLocaleDateString(),tickMinStep:864e5}],yAxis:[{id:"new-words"}],series:[{yAxisKey:"new-words",data:v,label:"Daily New Words",color:"rgb(242, 142, 44)"}],height:300})})]})}d.extend(f()),d.extend(m())},73666:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});var s,r=n(57809),i=n(92173);let a=i.Z.create({baseURL:"https://9gc3ha01gb.execute-api.us-east-1.amazonaws.com/dev",timeout:6e4,headers:{"Content-Type":"Application/json","auth-header":null===(s=JSON.parse(localStorage.getItem(r.j)||"null"))||void 0===s?void 0:s.id_token}});a.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),a.interceptors.response.use(function(e){return e},function(e){return console.log(e),e&&e.response&&401===e.response.status&&(location.href="https://ytenglishhub.auth.us-east-1.amazoncognito.com/login?client_id=7id87glt4q3pl65c29ghqu3ff3&response_type=token&scope=email+openid+phone&redirect_uri=https://ytenglishhub.com/prepare"),200!=e.response.status&&console.error(e),Promise.reject(e)})},36005:function(e,t,n){"use strict";n.d(t,{MO:function(){return c},O3:function(){return i},TY:function(){return u},nC:function(){return a},o:function(){return o}});var s=n(9399),r=n(73666);let i=()=>(0,r.z)({url:"/video/watch_list",method:"GET"}),a=e=>(0,r.z)({url:"/video/watch_list",method:"POST",data:e}),o=(e,t)=>(0,r.z)({url:"/user/watch_time",method:"POST",data:{watch_time:e,date:t||(0,s.D_)()}}),c=()=>(0,r.z)({url:"/user/watch_time",method:"GET"}),u=()=>(0,r.z)({url:"/notebook/query",method:"GET"})},57809:function(e,t,n){"use strict";n.d(t,{j:function(){return s},k:function(){return r}});let s="YTEnglish-S-Auth",r="".concat("YTEnHub","_CachedWatchTime")},9399:function(e,t,n){"use strict";n.d(t,{A6:function(){return c},D_:function(){return o},Km:function(){return i},P2:function(){return a}});var s=n(74548),r=n.n(s);let i=()=>new Promise(e=>{let t=setInterval(()=>{window.YTIframeAPIReady&&(clearInterval(t),e(!0))},300)}),a=()=>{},o=e=>r()(e?new Date(e):new Date).format("YYYY-MM-DD"),c=e=>{let t=new Audio;t.src=e,t.play()}}},function(e){e.O(0,[683,589,434,921,971,472,744],function(){return e(e.s=30230)}),_N_E=e.O()}]);